#!/usr/bin/env python
# coding: utf-8

# In[1]:


#!/usr/bin/env python
# coding: utf-8

# In[3]:


import numpy as np
from flask import Flask, request, jsonify, render_template
import pickle

app = Flask(__name__)
b= {
 8274: 2.0,
 8275: 9.0,
 8276: 3.0,
 8277: 7.0,
 8278: 0.0,
 8279: 0.0,
 8280: 9.0,
 8281: 6.0,
 8282: 8.0,
 8283: 1.0,
 8284: 3.0,
 8285: 9.0,
 8286: 2.0,
 8287: 2.0,
 8289: 0.0,
 8290: 9.0,
 8291: 2.0,
 8292: 9.0,
 8293: 1.0,
 8294: 0.0,
 8295: 9.0,
 8296: 1.0,
 8297: 0.0,
 8298: 0.0,
 8299: 9.0,
 8300: 9.0,
 8301: 1.0,
 8302: 0.0,
 8306: 0.0,
 8307: 9.0,
 8308: 9.0,
 8309: 9.0,
 8310: 9.0,
 8311: 2.0,
 8312: 9.0,
 8313: 3.0,
 8314: 9.0,
 8315: 9.0,
 8316: 2.0,
 8317: 9.0,
 8318: 9.0,
 8319: 1.0,
 8320: 9.0,
 8321: 9.0,
 8322: 9.0,
 8323: 5.0,
 8324: 9.0,
 8325: 1.0,
 8326: 0.0,
 8327: 9.0,
 8328: 9.0,
 8329: 9.0,
 8330: 9.0,
 8331: 3.0,
 8332: 9.0,
 8333: 6.0,
 8334: 9.0,
 8335: 9.0,
 8336: 9.0,
 8337: 9.0,
 8338: 6.0,
 8339: 9.0,
 8341: 9.0,
 8342: 5.0,
 8343: 9.0,
 8344: 3.0,
 8345: 4.0,
 8346: 9.0,
 8347: 9.0,
 8348: 9.0,
 8349: 9.0,
 8350: 9.0,
 8351: 9.0,
 8352: 9.0,
 8353: 7.0,
 8354: 9.0,
 8355: 9.0,
 8356: 5.0,
 8357: 9.0,
 8358: 9.0,
 8359: 4.0,
 8360: 6.0,
 8361: 9.0,
 8362: 9.0,
 8363: 9.0,
 8364: 9.0,
 8365: 4.0,
 8366: 9.0,
 8367: 9.0,
 8368: 9.0,
 8369: 1.0,
 8370: 9.0,
 8371: 5.0,
 8372: 0.0,
 8373: 0.0,
 8375: 1.0,
 8376: 9.0,
 8377: 7.0,
 8378: 9.0,
 8379: 9.0,
 8380: 9.0,
 8381: 9.0,
 8382: 9.0,
 8383: 9.0,
 8384: 9.0,
 8385: 4.0,
 8386: 8.0,
 8387: 9.0,
 8388: 5.0,
 8389: 9.0,
 8390: 9.0,
 8391: 9.0,
 8392: 9.0,
 8393: 9.0,
 8394: 9.0,
 8395: 9.0,
 8396: 8.0,
 8397: 9.0,
 8398: 9.0,
 8399: 9.0,
 8400: 9.0,
 8401: 9.0,
 8402: 9.0,
 8403: 8.0,
 8404: 2.0,
 8405: 9.0,
 8406: 7.0,
 8409: 1.0,
 8410: 9.0,
 8412: 4.0,
 8413: 2.0,
 8414: 2.0,
 8415: 0.0,
 8416: 8.0,
 8417: 9.0,
 8418: 0.0,
 8421: 1.0,
 8422: 7.0,
 8423: 8.0,
 8424: 7.0,
 8425: 2.0,
 8426: 0.0,
 8427: 0.0,
 8428: 1.0,
 8429: 3.0,
 8430: 0.0,
 8431: 6.0,
 8432: 0.0,
 8433: 7.0,
 8434: 6.0,
 8435: 0.0,
 8436: 2.0,
 8437: 0.0,
 8438: 1.0,
 8439: 9.0,
 8440: 9.0,
 8441: 1.0,
 8442: 9.0}

d= {8274: 2.0,8275: 9.0,8276: 3.0}

@app.route('/')
def home():
    return render_template('index.html')

@app.route('/predict',methods=['POST'])
def predict():
    '''
    For rendering results on HTML GUI
    '''
    a = [int(x) for x in request.form.values()]
    print(a)
    a=a[0]
    #dd=int_features[0]
    #a=int(dd[0])
    change = " "
    if a in b:
        change = b[a]
    else:
        change=2

    output = round(change)
    return render_template('index.html', prediction_text= 'Total people living are {} approximately.'.format(output))

@app.route('/predict_api',methods=['POST'])
def predict_api():
    '''
    For direct API calls trought request
    '''
    #data = request.get_json(force=True)
    #prediction = model.predict([np.array(list(data.values()))])

   # output = prediction[0]
    #return jsonify(output)

if __name__ == "__main__":
    app.run(debug=True)


# In[ ]:





# In[ ]:




